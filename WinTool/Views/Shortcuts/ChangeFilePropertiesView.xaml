<view:DialogWindow
    x:Class="WinTool.Views.Shortcuts.ChangeFilePropertiesView"
    x:TypeArguments="model:ChangeFilePropertiesInput,model:ChangeFilePropertiesOutput"
    xmlns:model="clr-namespace:WinTool.Models"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:p="clr-namespace:WinTool.Properties"
    xmlns:view="clr-namespace:WinTool.Views"
    xmlns:vm="clr-namespace:WinTool.ViewModels.Shortcuts"
    xmlns:ui="clr-namespace:WinTool.UI.Controls"
    xmlns:c="clr-namespace:Hoax.WpfConverters;assembly=Hoax.WpfConverters"
    d:DataContext="{d:DesignInstance Type=vm:ChangeFilePropertiesViewModel}"
    mc:Ignorable="d"
    Icon="/Resources/logo.png"
    Title="{Binding FileName, StringFormat={x:Static p:Resources.ChangeFileProperiesTitle}}" 
    SizeToContent="Height"
    Width="400"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen">
    <Window.InputBindings>
        <KeyBinding Command="{Binding SaveCommand}"
                    Key="Return" />
        <KeyBinding Command="{Binding CloseWindowCommand}"
                    Key="Esc" />
    </Window.InputBindings>
    <Window.Resources>
        <c:BoolToVisibilityConverter x:Key="boolToVis" />
    </Window.Resources>

    <Border Padding="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="6" />
                <RowDefinition />
                <RowDefinition Height="10" />
                <RowDefinition />
                <RowDefinition Height="20" />
                <RowDefinition Height="auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <TextBlock Text="{x:Static p:Resources.CreationTime}"
                       VerticalAlignment="Center"/>
            <ui:DateTimePicker SelectedDate="{Binding CreationTime}"
                               Height="24"
                               Grid.Column="1" />

            <TextBlock Text="{x:Static p:Resources.LastWriteTime}"
                       VerticalAlignment="Center"
                       Grid.Row="2"/>
            <ui:DateTimePicker SelectedDate="{Binding ChangeTime}"
                               Height="24"
                               Grid.Row="2"
                               Grid.Column="1" />

            <Expander Header="{x:Static p:Resources.MediaTags}"
                      Visibility="{Binding MediaTagsSupported, Converter={StaticResource boolToVis}}"
                      Grid.Row="4"
                      Grid.ColumnSpan="2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="10" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="6" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="6" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="6" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="6" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="6" />
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="{x:Static p:Resources.Title}"
                               VerticalAlignment="Center"
                               Grid.Row="1"/>
                    <TextBox Text="{Binding Title}"
                             VerticalContentAlignment="Center"
                             Padding="4 0 0 0"
                             Height="24"
                             Grid.Row="1"
                             Grid.Column="1"/>

                    <TextBlock Text="{x:Static p:Resources.Performers}"
                               VerticalAlignment="Center"
                               Grid.Row="3"/>
                    <TextBox Text="{Binding Performers}"
                             VerticalContentAlignment="Center"
                             Padding="4 0 0 0"
                             Height="24"
                             Grid.Row="3"
                             Grid.Column="1" />

                    <TextBlock Text="{x:Static p:Resources.Album}"
                               VerticalAlignment="Center"
                               Grid.Row="5" />
                    <TextBox Text="{Binding Album}"
                             VerticalContentAlignment="Center"
                             Padding="4 0 0 0"
                             Height="24"
                             Grid.Row="5"
                             Grid.Column="1" />

                    <TextBlock Text="{x:Static p:Resources.Genres}"
                               VerticalAlignment="Center"
                               Grid.Row="7" />
                    <TextBox Text="{Binding Genres}"
                             VerticalContentAlignment="Center"
                             Padding="4 0 0 0"
                             Height="24"
                             Grid.Row="7"
                             Grid.Column="1" />

                    <TextBlock Text="{x:Static p:Resources.Year}"
                               VerticalAlignment="Center"
                               Grid.Row="9" />
                    <TextBox Text="{Binding Year}"
                             VerticalContentAlignment="Center"
                             Padding="4 0 0 0"
                             Height="24"
                             Grid.Row="9"
                             Grid.Column="1" />

                    <TextBlock Text="{x:Static p:Resources.Lyrics}"
                               VerticalAlignment="Center"
                               Grid.Row="11" />
                    <TextBox Text="{Binding Lyrics}"
                             TextWrapping="Wrap"
                             Padding="4 0 0 0"
                             Height="92"
                             Grid.Row="11"
                             Grid.Column="1" />
                </Grid>
            </Expander>

            <Button Content="{x:Static p:Resources.Save}"
                    Command="{Binding SaveCommand}"
                    Height="24"
                    Width="60"
                    Grid.Row="6"
                    Grid.ColumnSpan="2"
                    HorizontalAlignment="Center" />
        </Grid>
    </Border>
</view:DialogWindow>
